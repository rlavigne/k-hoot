<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interactif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Base styles */
        body {
            background: linear-gradient(135deg, #2b0f59 0%, #1a0936 100%);
            color: white;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        main {
            padding: 10px;
            min-height: 100vh;
        }

        section {
            height: 100%;
            border-radius: 0 !important;
            display: flex;
            flex-direction: column;
            background: transparent !important;
            box-shadow: none !important;
        }

        #quiz {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Progress and Timer Bars */
        .progress-container, .timer-container {
            width: calc(100% - 4rem);
            margin: 1rem auto;
            padding: 0;
            position: relative;
        }

        .progress-bar, .timer-container {
            height: 0.75rem !important;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        #progress {
            height: 100%;
            width: 0;
            background: #32ab14;
            transition: width 0.3s ease;
        }

        .timer-bar {
            height: 100%;
            width: 100%;
            background: #32ab14;
            transform-origin: left;
        }

        @keyframes countdown {
            from { 
                transform: scaleX(1);
                background-color: #32ab14;
            }
            50% {
                background-color: #1368CE;
            }
            to { 
                transform: scaleX(0);
                background-color: #ffffff;
            }
        }

        /* Progress Info */
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 2rem;
        }

        #current-score, 
        #question-counter {
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        #current-score {
            font-size: 1.5rem;
        }

        #question-counter {
            font-size: 1.125rem;
        }

        /* Question Styles */
        .question {
            background-color: rgba(255, 255, 255, 0.95);
            color: #000000 !important;
            font-size: 2rem !important;
            padding: 2.5rem !important;
            margin: 1.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        /* Ajouter une r√®gle plus sp√©cifique pour la question */
        #question.question,
        #question.question * {
            color: #220420 !important;
        }

        /* Choices Grid */
        .choices {
            flex: 1;
            gap: 1rem !important;
            padding: 1rem;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-auto-rows: minmax(min-content, 1fr);
        }

        .choice {
            margin: 0;
            display: flex;
            align-items: stretch;
            justify-content: center;
            font-size: 1.5rem;
            border-radius: 1.5rem !important;
            padding: 15px 15px 10px 15px !important;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            color: white;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease !important;
            height: auto !important;
            min-height: 100px !important;
        }

        .choice > div {
            width: 100%;
            padding: 15px 15px 10px 15px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 70px;
        }

        .choice:hover {
            transform: scale(1.02) !important;
            filter: brightness(1.1);
        }

        /* Animation States */
        .choice.correct {
            animation: correctPulse 0.6s ease !important;
            background: linear-gradient(135deg, #32ab14, #26890c) !important;
            border: 3px solid #fff !important;
            box-shadow: 0 0 20px rgba(50, 171, 20, 0.5) !important;
        }

        .choice.wrong {
            animation: wrongShake 0.6s ease !important;
            background: linear-gradient(135deg, #ff4b6a, #e21b3c) !important;
            opacity: 0.7 !important;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Ajouter ces styles pour le conteneur de r√©f√©rence et le bouton continuer */
        #reference-container {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            margin: 1rem 2rem;
            border-radius: 1rem;
            text-align: center;
        }

        #reference-text {
            color: white;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        #continue-btn {
            background: #32ab14;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #continue-btn:hover {
            background: #268f0f;
            transform: scale(1.05);
        }

        /* Loader Styles */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #2b0f59 0%, #1a0936 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
            text-align: center;
        }

        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #FFF;
            border-bottom-color: transparent;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }

        .loader-text {
            color: white;
            margin-top: 2rem;
            font-size: 1.25rem;
            font-weight: 500;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes loadingDots {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
            100% { content: ''; }
        }

        .loader-dots::after {
            content: '';
            display: inline-block;
            width: 24px;
            text-align: left;
            animation: loadingDots 1.5s infinite;
        }

        .fade-out {
            opacity: 0;
            pointer-events: none;
        }

        #restart-btn {
            color: #ef4444;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: bold;
            transition: all 0.2s ease;
            background: transparent;
            border: none;
            cursor: pointer;
        }

        #restart-btn:hover {
            color: #b91c1c;
        }

        /* Modifier les styles d'en-t√™te */
        .text-2xl, 
        #current-score, 
        #question-counter,
        h1 {
            color: white !important;
        }

        /* Style sp√©cifique pour le titre Quiz Interactif */
        h1.text-2xl {
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        /* Styles pour le dialogue */
        .prose {
            line-height: 1.6;
        }

        .prose h3 {
            color: #1a202c;
            margin-top: 2em;
            margin-bottom: 1em;
        }

        .prose p {
            margin-bottom: 1em;
        }

        .prose section {
            margin-bottom: 2em;
        }

        /* Pour la scrollbar personnalis√©e */
        .overflow-y-auto {
            scrollbar-width: thin;
            scrollbar-color: #CBD5E0 #EDF2F7;
        }

        .overflow-y-auto::-webkit-scrollbar {
            width: 8px;
        }

        .overflow-y-auto::-webkit-scrollbar-track {
            background: #EDF2F7;
        }

        .overflow-y-auto::-webkit-scrollbar-thumb {
            background-color: #CBD5E0;
            border-radius: 4px;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div id="loader" class="loader-container">
        <div class="loader"></div>
        <div class="loader-text">
            Chargement du quiz<span class="loader-dots"></span>
        </div>
    </div>
    <main class="container mx-auto">
        <section class="bg-white shadow-lg">
            <div class="flex justify-between items-center px-4">
                <h1 class="text-2xl font-bold text-center text-blue-600">Quiz Interactif</h1>
                <div class="flex gap-4">
                    <button id="source-btn" class="text-blue-500 px-4 py-2 rounded-lg hover:text-blue-700 transition-all font-bold">
                        Source
                    </button>
                    <button id="restart-btn" class="text-red-500 px-4 py-2 rounded-lg hover:text-red-700 transition-all font-bold">
                        Recommencer
                    </button>
                </div>
            </div>
            
            <div class="progress-container mt-4">
                <div class="progress-bar bg-gray-200 rounded-full h-4">
                    <div id="progress" class="bg-blue-500 h-4 rounded-full transition-all duration-300"></div>
                </div>
                <div class="flex justify-between text-sm text-gray-600 mt-1">
                    <span id="current-score" class="text-2xl font-bold">0 points</span>
                    <span id="question-counter" class="text-lg">Question 1/30</span>
                </div>
            </div>

            <div id="quiz">
                <div class="timer-container">
                    <div class="timer-bar" id="timer-bar"></div>
                </div>
                <div class="question-container">
                    <h2 class="question text-2xl font-bold text-center p-8" id="question"></h2>
                    <div id="reference-container">
                        <p id="reference-text"></p>
                        <button id="continue-btn">Continuer</button>
                    </div>
                </div>
                <div class="choices grid grid-cols-2" id="choices"></div>
            </div>
        </section>
    </main>

    <div id="source-dialog" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-gray-800">Source du contenu</h2>
                <button id="close-dialog" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div id="source-content" class="prose max-w-none text-gray-600">
                <!-- Le contenu sera inject√© ici via JavaScript -->
            </div>
        </div>
    </div>

    <script>
        const QUIZ_CONFIG = {
            QUESTION_TIME: 20,
            POINTS: {
                FAST: 10,
                MEDIUM: 5,
                SLOW: 2
            }
        };

        class Quiz {
            constructor() {
                // Initialisation des √©l√©ments DOM
                this.questionElement = document.getElementById('question');
                this.choicesElement = document.getElementById('choices');
                this.scoreElement = document.getElementById('current-score');
                this.progressBar = document.getElementById('progress');
                this.questionCounterElement = document.getElementById('question-counter');
                this.loaderElement = document.getElementById('loader');

                // √âtat initial
                this.currentQuestion = null;
                this.nextQuestion = null;
                this.score = 0;
                this.questionCount = 0;
                this.totalQuestions = 30;
                this.timeLeft = 0;
                this.timerId = null;
                this.isLoading = true;
                this.loadingNextQuestion = false;

                // Ajouter l'historique
                this.questionHistory = [];

                // Initialiser le quiz
                this.initAsync();

                // Ajouter l'√©couteur pour le bouton recommencer
                document.getElementById('restart-btn').addEventListener('click', () => this.restartQuiz());
            }

            async loadNextQuestion() {
                try {
                    const response = await fetch('https://boostnet.retool.com/url/education-k-hoot-quiz-questions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        // Ajouter l'historique dans le payload
                        body: JSON.stringify({
                            history: this.questionHistory
                        })
                    });

                    if (!response.ok) throw new Error(`Erreur r√©seau: ${response.status}`);
                    
                    const question = await response.json();
                    
                    // Ajouter la question √† l'historique
                    if (question && question.question) {
                        this.questionHistory.push(question.question);
                    }
                    
                    return question;
                } catch (error) {
                    console.error('Erreur de chargement:', error);
                    return null;
                }
            }

            async initAsync() {
                try {
                    // Charger la premi√®re question
                    this.currentQuestion = await this.loadNextQuestion();
                    // Pr√©charger la prochaine question
                    this.nextQuestion = await this.loadNextQuestion();
                    
                    if (this.currentQuestion) {
                        this.loaderElement.classList.add('fade-out');
                        setTimeout(() => {
                            this.loaderElement.style.display = 'none';
                        }, 500);

                        this.isLoading = false;
                        this.displayQuestion();
                        
                        this.choicesElement.addEventListener('click', (e) => {
                            const button = e.target.closest('button');
                            if (button && !this.isLoading) {
                                const choice = parseInt(button.dataset.choice);
                                this.checkAnswer(choice);
                            }
                        });
                    }
                } catch (error) {
                    this.handleError(error);
                }
            }

            async goToNextQuestion() {
                this.questionCount++;
                if (this.questionCount >= this.totalQuestions) {
                    this.showFinalScore();
                    return;
                }

                if (!this.nextQuestion) {
                    this.showLoader();
                    this.nextQuestion = await this.loadNextQuestion();
                }

                this.currentQuestion = this.nextQuestion;
                this.nextQuestion = null;
                
                // Pr√©charger la prochaine question en arri√®re-plan
                this.loadingNextQuestion = true;
                this.loadNextQuestion().then(question => {
                    this.nextQuestion = question;
                    this.loadingNextQuestion = false;
                });
                
                this.hideLoader();
                this.questionCounterElement.textContent = `Question ${this.questionCount + 1}/${this.totalQuestions}`;
                this.displayQuestion();
            }

            showLoader() {
                this.questionElement.style.display = 'none';
                this.choicesElement.style.display = 'none';
                
                const loaderHTML = `
                    <div class="flex flex-col items-center justify-center p-8">
                        <div class="loader"></div>
                        <div class="loader-text">
                            Chargement de la question<span class="loader-dots"></span>
                        </div>
                    </div>`;
                
                this.questionElement.insertAdjacentHTML('afterend', loaderHTML);
            }

            hideLoader() {
                // Supprimer le mini loader s'il existe
                const loader = document.querySelector('.loader')?.parentElement;
                if (loader) loader.remove();
                
                // R√©afficher la question et les choix
                this.questionElement.style.display = 'block';
                this.choicesElement.style.display = 'grid';
            }

            displayQuestion() {
                if (this.currentQuestion) {
                    this.questionElement.textContent = this.currentQuestion.question;
                    this.choicesElement.innerHTML = '';
                    
                    // Nouvelles couleurs plus contrast√©es
                    const colors = [
                        ['#FF4500', '#CC3700'], // Rouge-Orange vif
                        ['#4169E1', '#1E40AF'], // Bleu royal
                        ['#9400D3', '#6B238E'], // Violet fonc√©
                        ['#FF1493', '#C71585'], // Rose fonc√©
                        ['#1E90FF', '#0066CC'], // Bleu dodger
                        ['#FF8C00', '#E67300'], // Orange fonc√©
                        ['#8B008B', '#660066'], // Magenta fonc√©
                        ['#4B0082', '#36005F']  // Indigo fonc√©
                    ].sort(() => Math.random() - 0.5);
                    
                    // Afficher les choix dans l'ordre original
                    this.currentQuestion.choices.forEach((choice, index) => {
                        const button = document.createElement('button');
                        button.className = 'choice rounded-lg flex items-center justify-center text-xl';
                        button.style.background = `linear-gradient(135deg, ${colors[index][0]} 0%, ${colors[index][1]} 100%)`;
                        button.innerHTML = `
                            <div>
                                <div class="text-xl mb-2">${choice}</div>
                            </div>
                        `;
                        button.dataset.choice = String(index + 1);
                        this.choicesElement.appendChild(button);
                    });

                    this.startTimer();
                }
            }

            showFinalScore() {
                this.questionElement.textContent = `Quiz termin√©! Score final: ${this.score} points üëç`;
                this.choicesElement.innerHTML = '';
                // Cacher les √©l√©ments de jeu
                document.querySelector('.timer-container').style.display = 'none';
            }

            startTimer() {
                const timerBar = document.getElementById('timer-bar');
                timerBar.style.animation = 'none';
                timerBar.offsetHeight; // Force reflow
                timerBar.style.animation = `countdown ${QUIZ_CONFIG.QUESTION_TIME}s linear forwards`;
                
                this.timeLeft = QUIZ_CONFIG.QUESTION_TIME;
                
                if (this.timerId) {
                    clearInterval(this.timerId);
                }
                
                this.timerId = setInterval(() => {
                    this.timeLeft--;
                    if (this.timeLeft <= 0) {
                        this.stopTimer();
                        this.goToNextQuestion();
                    }
                }, 1000);
            }

            stopTimer() {
                clearInterval(this.timerId);
            }

            updateTimerDisplay() {
                this.timerElement.textContent = `${this.timeLeft}s`;
                const progress = (this.timeLeft / QUIZ_CONFIG.QUESTION_TIME) * 100;
                this.progressBar.style.width = `${progress}%`;
            }

            checkAnswer(choice) {
                const choiceIndex = parseInt(choice) - 1;
                const correctIndex = this.currentQuestion.correct;
                const isCorrect = choiceIndex === correctIndex;
                
                this.stopTimer();
                const timerBar = document.getElementById('timer-bar');
                timerBar.style.animationPlayState = 'paused';
                
                const buttons = this.choicesElement.querySelectorAll('.choice');
                buttons.forEach(button => {
                    button.disabled = true;
                    const buttonIndex = parseInt(button.dataset.choice) - 1;
                    
                    // R√©initialiser les styles
                    button.classList.remove('correct', 'wrong');
                    
                    if (isCorrect) {
                        // Si la r√©ponse est correcte
                        if (buttonIndex === choiceIndex) {
                            button.classList.add('correct');
                            button.style.opacity = '1';
                        } else {
                            // Les autres choix
                            button.style.opacity = '0.5';
                            button.style.border = '2px dotted white';
                            button.style.backgroundColor = 'transparent';
                            button.style.background = 'transparent';
                        }
                    } else {
                        // Si la r√©ponse est incorrecte
                        if (buttonIndex === choiceIndex) {
                            // Mauvaise r√©ponse s√©lectionn√©e
                            button.classList.add('wrong');
                            button.style.opacity = '1';
                        } else if (buttonIndex === correctIndex) {
                            // Bonne r√©ponse
                            button.classList.add('correct');
                            button.style.opacity = '1';
                        } else {
                            // Les autres choix
                            button.style.opacity = '0.5';
                            button.style.border = '2px dotted white';
                            button.style.backgroundColor = 'transparent';
                            button.style.background = 'transparent';
                        }
                    }
                });
                
                // Afficher la r√©f√©rence
                const referenceContainer = document.getElementById('reference-container');
                const referenceText = document.getElementById('reference-text');
                referenceText.textContent = this.currentQuestion.reference;
                referenceContainer.style.display = 'block';
                
                if (isCorrect) {
                    let points;
                    if (this.timeLeft >= 10) {
                        points = QUIZ_CONFIG.POINTS.FAST;
                    } else if (this.timeLeft >= 5) {
                        points = QUIZ_CONFIG.POINTS.MEDIUM;
                    } else {
                        points = QUIZ_CONFIG.POINTS.SLOW;
                    }
                    
                    const pointsFeedback = document.createElement('div');
                    pointsFeedback.className = 'points-feedback';
                    pointsFeedback.textContent = `+${points}`;
                    document.body.appendChild(pointsFeedback);
                    
                    setTimeout(() => {
                        pointsFeedback.remove();
                    }, 1000);
                    
                    this.score += points;
                    this.scoreElement.textContent = `${this.score} points`;
                    this.updateProgress();
                }
                
                // Ajouter l'√©couteur d'√©v√©nement pour le bouton continuer
                const continueBtn = document.getElementById('continue-btn');
                
                continueBtn.onclick = () => {
                    referenceContainer.style.display = 'none';
                    this.goToNextQuestion();
                };
            }

            handleError(error) {
                console.error('Erreur d√©taill√©e:', error);
                this.questionElement.textContent = 'Erreur lors du chargement du quiz. Veuillez rafra√Æchir la page.';
                this.choicesElement.innerHTML = `
                    <div class="text-center text-red-500">
                        <p>Message d'erreur: ${error.message}</p>
                        <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded">
                            R√©essayer
                        </button>
                    </div>
                `;
            }

            restartQuiz() {
                // Rafra√Æchir la page
                window.location.reload();
            }

            updateProgress() {
                const maxScore = this.totalQuestions * QUIZ_CONFIG.POINTS.FAST;
                const percentage = (this.score / maxScore) * 100;
                const progressPercentage = (this.questionCount / this.totalQuestions) * 100;
                
                this.progressBar.style.width = `${progressPercentage}%`;
                
                // Nouvelle logique de couleur
                let position;
                if (percentage >= 70) {
                    position = '100%'; // Vert
                } else if (percentage >= 35) {
                    position = '50%';  // Bleu
                } else {
                    position = '0%';   // Blanc
                }
                
                this.progressBar.style.backgroundPosition = `${position} 0`;
            }

            updateScore(points) {
                this.score += points;
                this.scoreDisplay.textContent = this.score;
                this.updateProgress();
            }
        }

        // Initialisation du quiz
        document.addEventListener('DOMContentLoaded', () => {
            new Quiz();

            const sourceBtn = document.getElementById('source-btn');
            const sourceDialog = document.getElementById('source-dialog');
            const closeDialog = document.getElementById('close-dialog');
            const sourceContent = document.getElementById('source-content');

            // Contenu format√© en HTML
            const sourceText = `
                <div class="space-y-6">
                    <section>
                        <h3 class="text-xl font-bold text-gray-800">Unit√© 9 - La Belle √âpoque</h3>
                        <p class="mt-4">Le Qu√©bec a connu plusieurs p√©riodes de prosp√©rit√© dans son histoire. La premi√®re se d√©roule entre 1900 et 1914. On appelle cette p√©riode la Belle √âpoque. La Belle √âpoque prendra fin en 1914 avec la Premi√®re Guerre mondiale.</p>
                        <p class="mt-4">Pendant cette p√©riode de prosp√©rit√©, les hommes d'affaires s'enrichissent, notamment √† cause d'un boom √©conomique dans la province (un d√©veloppement rapide de l'√©conomie du Qu√©bec). Malgr√© ce boom √©conomique, les banques refusent de pr√™ter de l'argent aux agriculteurs. C'est pourquoi Alphonse Desjardins mettra sur pied la toute premi√®re Caisse populaire en 1900.</p>
                        <h4 class="text-lg font-semibold text-gray-800 mt-6">L'urbanisation :</h4>
                        <p class="mt-2">Au d√©but du 20e si√®cle, √©norm√©ment de personnes partent vivre en ville. Les villes se d√©veloppent rapidement. Ce ph√©nom√®ne s'appelle l'urbanisation. Dans les villes, on voit appara√Ætre des gratte-ciels et des grands magasins. Les tramways permettent aux quartiers √©loign√©s du centre-ville de se d√©velopper puisque les travailleurs peuvent d√©sormais habiter plus loin de leur lieu de travail.</p>
                        <h4 class="text-lg font-semibold text-gray-800 mt-6">Les inventions :</h4>
                        <p class="mt-2">La Belle √âpoque est une p√©riode de d√©couvertes scientifiques et de progr√®s technologiques. Plusieurs inventions viendront changer et faciliter la vie des Qu√©b√©cois. L'√©lectricit√©, le t√©l√©phone et l'automobile occupent de plus en plus de place dans la soci√©t√©. L'√©lectricit√© permet d'am√©liorer l'√©clairage des rues, des maisons et des commerces. On voit aussi appara√Ætre des appareils comme l'aspirateur et le grille-pain. La bicyclette fait aussi son entr√©e comme moyen de transport, et l'avion effectue son premier vol au d√©but 1900.</p>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold text-gray-800">Unit√© 10 - La Premi√®re Guerre mondiale</h3>
                        <p class="mt-4">Le 4 ao√ªt 1914, la Grande-Bretagne d√©clare la guerre √† l'Allemagne. Cette d√©claration de guerre sera le d√©but de la Premi√®re Guerre mondiale en Europe. On l'appelle ainsi, car elle touche plusieurs pays qui ont form√© des alliances entre eux. Puisque le Canada fait partie de l'Empire britannique, ce dernier entre lui aussi en guerre.</p>
                        <h4 class="text-lg font-semibold text-gray-800 mt-6">La division au sein de la population :</h4>
                        <p class="mt-2">Au d√©part, l'arm√©e canadienne fait appel aux volontaires pour joindre ses rangs. Beaucoup de gens r√©pondent √† l'appel dont plusieurs infirmi√®res. Les francophones et les anglophones du pays n'ont pas la m√™me opinion quant √† leur participation √† la guerre :</p>
                        <ul class="list-disc ml-6 mt-2">
                            <li>Les francophones sont contre leur participation √† la guerre, car ils disent qu'elle ne les concerne pas.</li>
                            <li>Les anglophones sont pour leur participation √† la guerre, car ils croient que c'est le devoir du Canada de soutenir la Grande-Bretagne dans ce conflit.</li>
                        </ul>
                        <p class="mt-4">La Premi√®re Guerre mondiale prend fin le 11 novembre 1918.</p>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold text-gray-800">Unit√© 11 - Les Ann√©es folles</h3>
                        <p class="mt-4">Les Ann√©es folles correspondent √† la p√©riode apr√®s la Premi√®re Guerre mondiale, soit de 1918 √† 1929.</p>
                        <p class="mt-4">Plusieurs √©l√©ments caract√©risent cette nouvelle p√©riode de prosp√©rit√© :</p>
                        <ul class="list-disc ml-6 mt-2">
                            <li>Les privations dues √† la guerre diminuent.</li>
                            <li>La consommation augmente.</li>
                            <li>L'utilisation de l'automobile augmente.</li>
                            <li>Les conditions de vie s'am√©liorent.</li>
                            <li>Le nombre d'heures de travail diminue.</li>
                            <li>Les salaires augmentent.</li>
                            <li>Les prix des produits baissent.</li>
                            <li>Il y a un rel√¢chement des m≈ìurs (les comportements sont plus libres, moins cadr√©s par la religion).</li>
                            <li>Arriv√©e d'une nouvelle classe de travailleurs : les employ√©s de bureau et de magasins.</li>
                        </ul>
                        <h4 class="text-lg font-semibold text-gray-800 mt-6">Le f√©minisme et les in√©galit√©s :</h4>
                        <p class="mt-2">Dans les ann√©es 20, les femmes subissent encore plusieurs in√©galit√©s :</p>
                        <ul class="list-disc ml-6 mt-2">
                            <li>Les femmes sont moins bien pay√©es que les hommes.</li>
                            <li>Les femmes mari√©es doivent arr√™ter de travailler.</li>
                            <li>Les femmes n'ont pas le droit de voter.</li>
                        </ul>
                        <p class="mt-4">Pour mettre fin √† ces in√©galit√©s et √† la discrimination envers les femmes, celles-ci se regroupent dans des mouvements f√©ministes. Ces mouvements exigent plus de droits pour les femmes.</p>
                    </section>

                    <section>
                        <h3 class="text-xl font-bold text-gray-800">Unit√© 12 - La Grande Crise</h3>
                        <p class="mt-4">Le 24 octobre 1929, la Bourse de New-York chute brutalement. Les actions sur le march√© perdent √©norm√©ment de valeur et les propri√©taires de ces actions les vendent avant de perdre trop d'argent. Cela aggrave la situation et cause ce qu'on appelle un ¬´ krach ¬ª. Ce dernier sera la cause de la Grande Crise, une crise √©conomique qui durera 10 ans.</p>
                        <h4 class="text-lg font-semibold text-gray-800 mt-6">Les cons√©quences de la Grande Crise au Canada :</h4>
                        <ul class="list-disc ml-6 mt-2">
                            <li>Les exportations de produits diminuent de fa√ßon importante.</li>
                            <li>Plusieurs usines et entreprises ferment.</li>
                            <li>Plusieurs pertes d'emplois.</li>
                            <li>Augmentation de la pauvret√© (surtout en ville).</li>
                        </ul>
                        <h4 class="text-lg font-semibold text-gray-800 mt-6">La charit√© et l'aide des gouvernements :</h4>
                        <p class="mt-2">Pendant la Grande Crise, les gens dans le besoin devaient se tourner vers des organismes de charit√© pour combler certains besoins. Les organismes de charit√© distribuaient :</p>
                        <ul class="list-disc ml-6 mt-2">
                            <li>Des v√™tements et de la nourriture.</li>
                        </ul>
                        <p class="mt-4">De leur c√¥t√©, les gouvernements du Canada et du Qu√©bec mettent des programmes en place pour aider les gens dans le besoin :</p>
                        <ul class="list-disc ml-6 mt-2">
                            <li>Ils offrent des coupons √©changeables contre de la nourriture et des v√™tements.</li>
                            <li>Ils mettent en place des programmes de travaux publics (route, aqueduc, parc) pour employer les travailleurs sans emploi.</li>
                        </ul>
                    </section>
                </div>
            `;

            sourceBtn.addEventListener('click', () => {
                sourceContent.innerHTML = sourceText;
                sourceDialog.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            });

            closeDialog.addEventListener('click', () => {
                sourceDialog.classList.add('hidden');
                document.body.style.overflow = 'auto';
            });

            sourceDialog.addEventListener('click', (e) => {
                if (e.target === sourceDialog) {
                    sourceDialog.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }
            });
        });
    </script>
</body>
</html>