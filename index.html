<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Quiz Interactif</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"></script>
        <link
            href="https://cdn.jsdelivr.net/npm/@tailwindcss/typography@0.5.10/dist/typography.min.css"
            rel="stylesheet"
        />
        <link
            href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
            rel="stylesheet"
        />
        <style>
            /* Base styles */
            body {
                background: linear-gradient(135deg, #2b0f59 0%, #1a0936 100%);
                color: white;
                margin: 0;
                padding: 0;
                min-height: 100vh;
            }

            main {
                padding: 10px;
                min-height: 100vh;
            }

            section {
                height: 100%;
                border-radius: 0 !important;
                display: flex;
                flex-direction: column;
                background: transparent !important;
                box-shadow: none !important;
            }

            #quiz {
                flex: 1;
                display: flex;
                flex-direction: column;
            }

            /* Progress and Timer Bars */
            .progress-container,
            .timer-container {
                width: calc(100% - 4rem);
                margin: 1rem auto;
                padding: 0;
                position: relative;
            }

            .progress-bar,
            .timer-container {
                height: 0.75rem !important;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 0.5rem;
                overflow: hidden;
            }

            #progress {
                height: 100%;
                width: 0;
                background: #32ab14;
                transition: width 0.3s ease;
            }

            .timer-bar {
                height: 100%;
                width: 100%;
                background: #32ab14;
                transform-origin: left;
            }

            @keyframes countdown {
                from {
                    transform: scaleX(1);
                    background-color: #32ab14;
                }
                50% {
                    background-color: #1368ce;
                }
                to {
                    transform: scaleX(0);
                    background-color: #ffffff;
                }
            }

            /* Progress Info */
            .progress-info {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.5rem 2rem;
            }

            #current-score,
            #question-counter {
                color: white;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
                font-weight: bold;
            }

            #current-score {
                font-size: 1.5rem;
            }

            #question-counter {
                font-size: 1.125rem;
            }

            /* Question Styles */
            .question {
                background-color: rgba(255, 255, 255, 0.95);
                color: #000000 !important;
                font-size: 2rem !important;
                padding: 2.5rem !important;
                margin: 1.5rem;
                border-radius: 1.5rem;
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
                min-height: 150px;
                display: flex;
                align-items: center;
                justify-content: center;
                text-align: center;
                font-weight: bold;
                margin-bottom: 1rem;
            }

            /* Ajouter une règle plus spécifique pour la question */
            #question.question,
            #question.question * {
                color: #220420 !important;
            }

            /* Choices Grid */
            .choices {
                flex: 1;
                gap: 1rem !important;
                padding: 1rem;
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                grid-auto-rows: minmax(min-content, 1fr);
            }

            .choice {
                margin: 0;
                display: flex;
                align-items: stretch;
                justify-content: center;
                font-size: 1.5rem;
                border-radius: 1.5rem !important;
                padding: 15px 15px 10px 15px !important;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                position: relative;
                overflow: hidden;
                color: white;
                font-weight: bold;
                border: none;
                cursor: pointer;
                transition: transform 0.2s ease !important;
                height: auto !important;
                min-height: 100px !important;
            }

            .choice > div {
                width: 100%;
                padding: 15px 15px 10px 15px;
                text-align: center;
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 70px;
            }

            .choice:hover {
                transform: scale(1.02) !important;
                filter: brightness(1.1);
            }

            /* Animation States */
            .choice.correct {
                animation: correctPulse 0.6s ease !important;
                background: linear-gradient(
                    135deg,
                    #32ab14,
                    #26890c
                ) !important;
                border: 3px solid #fff !important;
                box-shadow: 0 0 20px rgba(50, 171, 20, 0.5) !important;
            }

            .choice.wrong {
                animation: wrongShake 0.6s ease !important;
                background: linear-gradient(
                    135deg,
                    #ff4b6a,
                    #e21b3c
                ) !important;
                opacity: 0.7 !important;
            }

            @keyframes correctPulse {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.1);
                }
                100% {
                    transform: scale(1);
                }
            }

            @keyframes wrongShake {
                0%,
                100% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-10px);
                }
                75% {
                    transform: translateX(10px);
                }
            }

            /* Ajouter ces styles pour le conteneur de référence et le bouton continuer */
            #reference-container {
                display: none;
                background: rgba(255, 255, 255, 0.1);
                padding: 1rem;
                margin: 1rem 2rem;
                border-radius: 1rem;
                text-align: center;
            }

            #reference-text {
                color: white;
                font-size: 1.1rem;
                margin-bottom: 1rem;
            }

            #continue-btn {
                background: #32ab14;
                color: white;
                padding: 0.75rem 2rem;
                border-radius: 0.5rem;
                border: none;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            #continue-btn:hover {
                background: #268f0f;
                transform: scale(1.05);
            }

            /* Loader Styles */
            .loader-container {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background: linear-gradient(135deg, #2b0f59 0%, #1a0936 100%);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                z-index: 9999;
                transition: opacity 0.5s ease-out;
                text-align: center;
            }

            .loader {
                width: 48px;
                height: 48px;
                border: 5px solid #fff;
                border-bottom-color: transparent;
                border-radius: 50%;
                display: inline-block;
                box-sizing: border-box;
                animation: rotation 1s linear infinite;
            }

            .loader-text {
                color: white;
                margin-top: 2rem;
                font-size: 1.25rem;
                font-weight: 500;
                letter-spacing: 0.5px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            @keyframes loadingDots {
                0% {
                    content: '';
                }
                25% {
                    content: '.';
                }
                50% {
                    content: '..';
                }
                75% {
                    content: '...';
                }
                100% {
                    content: '';
                }
            }

            .loader-dots::after {
                content: '';
                display: inline-block;
                width: 24px;
                text-align: left;
                animation: loadingDots 1.5s infinite;
            }

            .fade-out {
                opacity: 0;
                pointer-events: none;
            }

            #restart-btn {
                color: #ef4444;
                padding: 0.5rem 1rem;
                border-radius: 0.5rem;
                font-weight: bold;
                transition: all 0.2s ease;
                background: transparent;
                border: none;
                cursor: pointer;
            }

            #restart-btn:hover {
                color: #b91c1c;
            }

            /* Modifier les styles d'en-tête */
            .text-2xl,
            #current-score,
            #question-counter,
            h1 {
                color: white !important;
            }

            /* Style spécifique pour le titre Quiz Interactif */
            h1.text-2xl {
                font-size: 1.5rem;
                font-weight: bold;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            }

            /* Styles pour le dialogue */
            .prose {
                line-height: 1.6;
            }

            .prose h3 {
                color: #1a202c;
                margin-top: 2em;
                margin-bottom: 1em;
            }

            .prose p {
                margin-bottom: 1em;
            }

            .prose section {
                margin-bottom: 2em;
            }

            /* Pour la scrollbar personnalisée */
            .overflow-y-auto {
                scrollbar-width: thin;
                scrollbar-color: #cbd5e0 #edf2f7;
            }

            .overflow-y-auto::-webkit-scrollbar {
                width: 8px;
            }

            .overflow-y-auto::-webkit-scrollbar-track {
                background: #edf2f7;
            }

            .overflow-y-auto::-webkit-scrollbar-thumb {
                background-color: #cbd5e0;
                border-radius: 4px;
            }

            /* Styles pour le markdown rendu */
            .markdown-content {
                color: #1a202c;
                line-height: 1.6;
            }

            .markdown-content h1 {
                font-size: 2rem;
                font-weight: bold;
                margin-top: 2rem;
                margin-bottom: 1rem;
                color: #1a202c !important;
                border-bottom: 2px solid #e2e8f0;
                padding-bottom: 0.5rem;
            }

            .markdown-content h2 {
                font-size: 1.5rem;
                font-weight: bold;
                margin-top: 1.5rem;
                margin-bottom: 1rem;
                color: #2d3748 !important;
            }

            .markdown-content p {
                margin-bottom: 1rem;
                color: #4a5568;
            }

            .markdown-content ul {
                list-style-type: disc;
                margin-left: 1.5rem;
                margin-bottom: 1rem;
            }

            .markdown-content li {
                margin-bottom: 0.5rem;
                color: #4a5568;
            }

            .markdown-content strong {
                font-weight: bold;
                color: #2d3748;
            }

            .markdown-content em {
                font-style: italic;
            }

            .markdown-content blockquote {
                border-left: 4px solid #e2e8f0;
                padding-left: 1rem;
                margin: 1rem 0;
                color: #718096;
            }

            .markdown-content code {
                background-color: #f7fafc;
                padding: 0.2rem 0.4rem;
                border-radius: 0.25rem;
                font-family: monospace;
                font-size: 0.9em;
                color: #2d3748;
            }

            .markdown-content pre {
                background-color: #f7fafc;
                padding: 1rem;
                border-radius: 0.5rem;
                overflow-x: auto;
                margin: 1rem 0;
            }

            .markdown-content pre code {
                background-color: transparent;
                padding: 0;
            }

            @keyframes rotation {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>
    <body class="bg-gray-100 text-gray-800">
        <div id="loader" class="loader-container">
            <div class="loader"></div>
            <div class="loader-text">
                Chargement du quiz<span class="loader-dots"></span>
            </div>
        </div>
        <main class="container mx-auto">
            <section class="bg-white shadow-lg">
                <div class="flex justify-between items-center px-4">
                    <h1 class="text-2xl font-bold text-center text-blue-600">
                        Quiz Interactif
                    </h1>
                    <div class="flex gap-4">
                        <button
                            id="source-btn"
                            class="text-blue-500 px-4 py-2 rounded-lg hover:text-blue-700 transition-all font-bold"
                        >
                            Source
                        </button>
                        <button
                            id="restart-btn"
                            class="text-red-500 px-4 py-2 rounded-lg hover:text-red-700 transition-all font-bold"
                        >
                            Recommencer
                        </button>
                    </div>
                </div>

                <div class="progress-container mt-4">
                    <div class="progress-bar bg-gray-200 rounded-full h-4">
                        <div
                            id="progress"
                            class="bg-blue-500 h-4 rounded-full transition-all duration-300"
                        ></div>
                    </div>
                    <div
                        class="flex justify-between text-sm text-gray-600 mt-1"
                    >
                        <span id="current-score" class="text-2xl font-bold"
                            >0 points</span
                        >
                        <span id="question-counter" class="text-lg"
                            >Question 1/63</span
                        >
                    </div>
                </div>

                <div id="quiz">
                    <div class="timer-container">
                        <div class="timer-bar" id="timer-bar"></div>
                    </div>
                    <div class="question-container">
                        <h2
                            class="question text-2xl font-bold text-center p-8"
                            id="question"
                        ></h2>
                        <div id="reference-container">
                            <p id="reference-text"></p>
                            <button id="continue-btn">Continuer</button>
                        </div>
                    </div>
                    <div class="choices grid grid-cols-2" id="choices"></div>
                </div>
            </section>
        </main>

        <div
            id="source-dialog"
            class="fixed inset-0 bg-black bg-opacity-50 hidden overflow-y-auto"
        >
            <div class="min-h-screen flex items-center justify-center p-4">
                <div class="bg-white rounded-lg max-w-4xl w-full my-8">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-bold text-gray-800">
                                Source du contenu
                            </h2>
                            <button
                                id="close-dialog"
                                class="text-gray-500 hover:text-gray-700"
                            >
                                <svg
                                    class="w-6 h-6"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M6 18L18 6M6 6l12 12"
                                    ></path>
                                </svg>
                            </button>
                        </div>
                        <div
                            id="source-content"
                            class="prose max-w-none text-gray-600"
                        >
                            <!-- Le contenu sera injecté ici via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            const QUIZ_CONFIG = {
                QUESTION_TIME: 20,
                POINTS: {
                    FAST: 10,
                    MEDIUM: 5,
                    SLOW: 2
                }
            };

            const QUESTIONS_DATA = {
  "questions": [
    {
      "question_text": "en quelle année le régime seigneurial a-t-il été implanté dans la colonie ?",
      "choices": [
        "1610",
        "1627",
        "1645",
        "1634"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "quelle fonction sociale les augustines assumaient-elles dans la colonie ?",
      "choices": [
        "les écoles (éducation)",
        "les hôpitaux (soins, santé)",
        "les fermes (agriculture)",
        "les marchés (commerce)"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "en quelle année la ville de trois-rivières a-t-elle été fondée ?",
      "choices": [
        "1611",
        "1640",
        "1634",
        "1625"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "qui suis-je ? je suis la compagnie de marchands à qui la compagnie des cent-associés a cédé l'administration de la colonie et le monopole de la traite des fourrures en 1645.",
      "choices": [
        "la société de la Nouvelle-France",
        "la communauté des habitants",
        "la compagnie de l'Atlantique",
        "la compagnie des franco-canadiens"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "à quel intendant doit-on l’implantation du réseau commercial qui impliquait la colonie, la france et les antilles françaises ?",
      "choices": [
        "jean talon",
        "gilles hocquart",
        "samuel de champlain",
        "françois de laval"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "que suis-je ? je suis un impôt prélevé par l'église catholique.",
      "choices": [
        "la dîme",
        "la taxe d'église",
        "le péage",
        "le tribut"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "qui suis-je ? durant la deuxième partie du régime français, je suis le personnage à qui le roi a confié le mandat de coloniser, d'administrer et de développer la colonie.",
      "choices": [
        "jean talon",
        "gilles hocquart",
        "louis xiv",
        "françois de laval"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "dans la première partie du régime français, qui était responsable de l'administration, du développement et du peuplement de la colonie ?",
      "choices": [
        "les seigneurs",
        "les compagnies",
        "l'église",
        "le roi"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "quel événement marque le début du régime français ?",
      "choices": [
        "la signature du traité de paix",
        "la fondation de montréal",
        "la fondation de québec (1608)",
        "la découverte du fleuve saint-laurent"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "dans le cadre du commerce des fourrures, quel acteur était responsable de chasser les animaux et de préparer les peaux ?",
      "choices": [
        "les coureurs des bois",
        "les marchands-traiteurs",
        "les autochtones",
        "les agriculteurs"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "quel était le nom donné à l'établissement de montréal au moment de sa fondation en 1642 ?",
      "choices": [
        "ville nouvelle",
        "ville-marie",
        "nouvelle-montreal",
        "ville-du-roi"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "quelle était la proposition faite aux soldats envoyés par la france en 1665 pour les convaincre de rester dans la colonie à la fin de leur mission ?",
      "choices": [
        "des salaires élevés",
        "des terres aux soldats",
        "un retour en france",
        "une promotion militaire"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "en quelle année les guerres iroquoises ont-elles commencé ?",
      "choices": [
        "1610",
        "1615",
        "1609",
        "1620"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "quels sont les deux seuls moyens qui permettent de favoriser l'accroissement d'une population ?",
      "choices": [
        "l'immigration et l'adoption",
        "l'immigration et la mortalité",
        "l'immigration et la natalité",
        "la natalité et la guerre"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "à l'époque du régime français, comment appelait-on les habitants nés dans la colonie ?",
      "choices": [
        "les autochtones",
        "les canadiens",
        "les colonisateurs",
        "les nouveaux-français"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "dans le cadre de la politique économique en vigueur durant le régime français, quelles étaient les deux fonctions de la colonie ?",
      "choices": [
        "produire et consommer",
        "acheter et vendre",
        "fournir les ressources naturelles et acheter les produits transformés",
        "exporter et importer"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "qui suis-je ? même si je ne suis officiellement que le deuxième intendant de la colonie, j'ai tout de même été le premier à m'y rendre pour exercer mes fonctions.",
      "choices": [
        "gilles hocquart",
        "jean talon",
        "françois de laval",
        "louis xiv"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "durant le régime français, quelle était l'origine de la majorité des esclaves de la colonie ?",
      "choices": [
        "des africains",
        "des asiatiques",
        "des autochtones (environ 2/3)",
        "des européens"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "en 1663, quel constat fait-on au sujet de l'état de l'économie de la colonie ?",
      "choices": [
        "bien développée",
        "très diversifiée",
        "peu innovante",
        "peu diversifiée"
      ],
      "correct_answer": 3
    },
    {
      "question_text": "en 1665, la france a envoyé des soldats d'élite dans la colonie pour mettre un frein à la menace iroquoise. combien de ces soldats ont décidé d'y demeurer à la fin de leur mission ?",
      "choices": [
        "600 militaires",
        "400 militaires",
        "800 militaires",
        "300 militaires"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "que signifie le nom « québec » en langue algonquine ?",
      "choices": [
        "l'étroitesse du fleuve",
        "la rivière large",
        "l'étroitesse de la rivière",
        "la grande rivière"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "quelle fonction sociale les ursulines assumaient-elles dans la colonie ?",
      "choices": [
        "les hôpitaux (soins, santé)",
        "les établissements d'agriculture",
        "les écoles (éducation)",
        "les soins aux malades"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "en quelle année la ville de québec a-t-elle été fondée ?",
      "choices": [
        "1608",
        "1615",
        "1610",
        "1630"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "selon l’étude statistique des caractéristiques de la population réalisée en 1665-1666, combien y avait-il d'hommes et de femmes dans la colonie ?",
      "choices": [
        "1500 hommes et 800 femmes",
        "2034 hommes et 1181 femmes",
        "3000 hommes et 2000 femmes",
        "2500 hommes et 1500 femmes"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis une compagnie anglaise fondée à londres, en 1670, à la suite des voyages d'exploration effectués par médard chouart des groseilliers et pierre-esprit radisson.",
      "choices": [
        "la compagnie du saint-laurent",
        "la compagnie de la baie d'hudson",
        "la compagnie des cent-associés",
        "la société de l'Atlantique"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis une importante compagnie de commerce qui a été fondée en 1627.",
      "choices": [
        "la société du commerce",
        "la compagnie des cent-associés",
        "la compagnie de l'Atlantique",
        "la compagnie de la Nouvelle-France"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "en 1665-1666, selon l'étude statistique des caractéristiques de la population, à combien s'élevait la population de la colonie ?",
      "choices": [
        "2500",
        "3215",
        "1800",
        "2100"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "à l'époque du régime français, quel était le principal produit exporté par la colonie ?",
      "choices": [
        "le blé",
        "le poisson",
        "les fourrures",
        "le tabac"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "pour quelle raison la prise de québec par les frères kirke a-t-elle été déclarée illégale ?",
      "choices": [
        "absence de trêve",
        "signe d'une guerre",
        "même date d'un traité",
        "conflit diplomatique"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "qui suis-je ? je suis la nation autochtone qui a été lourdement affectée par les guerres iroquoises, surtout de 1648 à 1650.",
      "choices": [
        "les algonquins",
        "les iroquois",
        "les hurons",
        "les innus"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "à partir des années 1650, comment appelait-on ceux qui allaient récupérer les peaux chez les autochtones et qui les rapportaient ensuite aux marchands-traiteurs de la compagnie ?",
      "choices": [
        "les chasseurs",
        "les voyageurs",
        "les coureurs des bois",
        "les trappeurs"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "quelles sont les années qui délimitent la première partie du régime français ?",
      "choices": [
        "1608-1663",
        "1610-1625",
        "1620-1680",
        "1650-1700"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "que suis-je ? je suis un mouvement de pensée qui prévoit la soumission de l'église catholique de france au roi de france plutôt qu'au pape.",
      "choices": [
        "le gallicanisme",
        "le monarchisme religieux",
        "le cléricalisme",
        "le jansénisme"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "qui suis-je ? je suis la communauté religieuse masculine qui est arrivée dans la colonie en 1625.",
      "choices": [
        "les franciscains",
        "les jésuites",
        "les bénédictins",
        "les dominicains"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis celui dont la tâche consiste à transmettre les directives du roi aux dirigeants coloniaux.",
      "choices": [
        "le gouverneur",
        "le secrétaire d'état à la marine",
        "le ministre des colonies",
        "l'intendant"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "durant le régime français, quel était l'objectif de l'église catholique à l'égard des autochtones ?",
      "choices": [
        "les protéger",
        "les évangéliser",
        "les intégrer",
        "les coloniser"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "parmi les trois programmes de colonisation implantés durant le régime français (compagnies, église et État), un seul a grandement contribué au peuplement de la colonie. lequel ?",
      "choices": [
        "l'église",
        "les compagnies",
        "l'État",
        "les seigneurs"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "à quelle partie du régime français doit-on associer la présence du conseil souverain ?",
      "choices": [
        "à la première partie (1608 à 1663)",
        "à la deuxième partie (1663 à 1760)",
        "à la période d'autonomie",
        "à la période de déclin"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis l'intendant associé à l'implantation des forges du saint-maurice et à la mise en service de la première voie carrossable de la colonie.",
      "choices": [
        "jean talon",
        "gilles hocquart",
        "françois de laval",
        "samuel de champlain"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis le fondateur de québec.",
      "choices": [
        "jacques cartier",
        "jean talon",
        "samuel de champlain",
        "louis xiv"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "que suis-je ? je suis le réseau commercial créé en 1670 qui implique la colonie, la france et les antilles françaises.",
      "choices": [
        "le commerce maritime",
        "le commerce triangulaire",
        "les échanges transatlantiques",
        "la route des fourrures"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis le personnage qui a pris possession de la louisiane au nom du roi de france.",
      "choices": [
        "rené-robert cavelier de la salle",
        "jean-talon",
        "samuel de champlain",
        "louis xiv"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "quelles sont les deux premières causes qui permettent d'expliquer la diminution de la population autochtone durant le régime français ?",
      "choices": [
        "la guerre et l'éducation",
        "les maladies et les guerres",
        "le travail forcé et la guerre",
        "la fuite et les maladies"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "que suis-je ? je suis le terme utilisé pour désigner les membres d'une communauté religieuse qui ont pour mission de convertir des gens au christianisme.",
      "choices": [
        "les religieux",
        "les clercs",
        "les missionnaires",
        "les évangélistes"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "que suis-je ? je suis le régime politique dans lequel le chef de l'état détient un pouvoir total et absolu qui, selon une croyance religieuse, lui vient directement de dieu.",
      "choices": [
        "le despotisme éclairé",
        "l'autocratie",
        "l'absolutisme de droit divin",
        "la monarchie constitutionnelle"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "que suis-je ? utilisé dans le cadre de la traite des fourrures, je suis un produit d'échange ayant fait l'objet de vives critiques de la part des autorités religieuses de la colonie.",
      "choices": [
        "le tabac",
        "l'eau-de-vie (alcool)",
        "les animaux",
        "le coton"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "en 1665, la france a envoyé des soldats d'élite dans la colonie pour mettre un frein à la menace iroquoise. combien de soldats y ont été envoyés ?",
      "choices": [
        "350",
        "1200",
        "850",
        "600"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? j'ai été le premier évêque de la colonie durant le régime français.",
      "choices": [
        "françois de laval",
        "jean talon",
        "louis xiv",
        "georges de la tour"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "après le départ du premier intendant à avoir exercé ses fonctions dans la colonie, quel a été le principal facteur d'accroissement de la population ?",
      "choices": [
        "les immigrants",
        "la natalité élevée",
        "le commerce",
        "l'industrialisation"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? achevée en 1737, je suis la première route carrossable qui permettait de relier les villes de québec, trois-rivières et montréal.",
      "choices": [
        "le chemin du roy",
        "la route de la Nouvelle-France",
        "la voie du commerce",
        "le chemin royal"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "qui suis-je ? je suis un village qui a été attaqué et brûlé par un groupe de 1500 guerriers iroquois le 5 août 1689.",
      "choices": [
        "le village de lachine",
        "le village de québec",
        "le village de fort frontenac",
        "le village de montréal"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "qui sont les deux personnages à l'origine de la fondation de la société de notre-dame de montréal pour la conversion des sauvages de la nouvelle-france ?",
      "choices": [
        "jean-jacques olier et jérôme le royer de la dauversière",
        "samuel de champlain et françois de laval",
        "louis xiv et jean talon",
        "gilles hocquart et pierre esprits radisson"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "à quelle partie du régime français doit-on associer la présence de l'intendant ?",
      "choices": [
        "à la première partie (1608 à 1663)",
        "à la deuxième partie (1663 à 1760)",
        "à l'époque de la conquête",
        "à la période de colonisation"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis un des membres influents du conseil souverain et je dirige l'église catholique dans la colonie.",
      "choices": [
        "l'évêque",
        "l'intendant",
        "le gouverneur",
        "le capucin"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "que suis-je ? je suis la politique économique selon laquelle une métropole doit accumuler des métaux précieux, surtout de l'or, en exportant des produits manufacturés faits à partir des matières premières provenant de ses colonies.",
      "choices": [
        "le mercantilisme",
        "l'interventionnisme",
        "le protectionnisme",
        "la colonisation"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "que suis-je ? je suis le terme utilisé pour désigner un colon qui a reçu une terre à cultiver de la part d'un seigneur.",
      "choices": [
        "un seigneur",
        "un colon",
        "un censitaire",
        "un fermier"
      ],
      "correct_answer": 2
    },
    {
      "question_text": "quelles sont les deux causes ayant contribué au développement d'un sentiment d'indépendance chez les canadiens durant le régime français ?",
      "choices": [
        "la proximité de l'angleterre et la guerre",
        "l'éloignement de la métropole et le contact avec les autochtones",
        "l'industrialisation et l'agriculture",
        "les conflits internes et l'influence américaine"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "comment appelait-on les autochtones convertis au catholicisme qui se sont établis sur les terres des seigneuries de la vallée du saint-laurent ?",
      "choices": [
        "les sédentaires",
        "les domiciliés",
        "les intégrés",
        "les colonisés"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "à quel intendant doit-on la mise en service de la première brasserie (endroit où est brassée la bière) dans la colonie ?",
      "choices": [
        "gilles hocquart",
        "jean talon",
        "françois de laval",
        "jacques cartier"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis celui qu'on a surnommé le « roi-soleil » et j'ai régné pendant plus d'un demi-siècle en maître absolu sur le royaume de france et ses colonies.",
      "choices": [
        "louis xiii",
        "louis xiv",
        "napoléon bonaparte",
        "françois premier"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "que suis-je ? fondé en 1713, je suis un établissement situé à la pointe est de l'île royale (actuelle île du cap-breton) qui est devenu, en 1740, un des ports les plus fréquentés d'amérique du nord.",
      "choices": [
        "charlottetown",
        "louisbourg",
        "halifax",
        "détroit"
      ],
      "correct_answer": 1
    },
    {
      "question_text": "qui suis-je ? je suis l'homme politique français qui est à l'origine de la création de la compagnie des cent-associés.",
      "choices": [
        "cardinal de richelieu",
        "louis xiv",
        "jean talon",
        "jean-baptiste colbert"
      ],
      "correct_answer": 0
    },
    {
      "question_text": "que suis-je ? durant la deuxième partie du régime français, dans la colonie, je suis l'institution qui applique les directives du roi et qui conseille les dirigeants coloniaux.",
      "choices": [
        "le conseil législatif",
        "le conseil souverain",
        "le parlement colonial",
        "la cour de justice"
      ],
      "correct_answer": 1
    }
  ]
};

            class Quiz {
                constructor() {
                    // Initialisation des éléments DOM
                    this.questionElement = document.getElementById('question');
                    this.choicesElement = document.getElementById('choices');
                    this.scoreElement = document.getElementById('current-score');
                    this.progressBar = document.getElementById('progress');
                    this.questionCounterElement = document.getElementById('question-counter');
                    this.loaderElement = document.getElementById('loader');

                    // État initial
                    this.currentQuestionIndex = 0;
                    this.questions = [];
                    this.score = 0;
                    this.totalQuestions = 63;
                    this.timeLeft = 0;
                    this.timerId = null;
                    this.isLoading = true;

                    // Initialiser le quiz
                    this.initQuiz();

                    // Ajouter l'écouteur pour le bouton recommencer
                    document.getElementById('restart-btn').addEventListener('click', () => this.restartQuiz());
                }

                shuffleArray(array) {
                    for (let i = array.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [array[i], array[j]] = [array[j], array[i]];
                    }
                    return array;
                }

                initQuiz() {
                    // Copier et mélanger les questions
                    this.questions = this.shuffleArray([...QUESTIONS_DATA.questions]);
                    
                    this.loaderElement.classList.add('fade-out');
                    setTimeout(() => {
                        this.loaderElement.style.display = 'none';
                    }, 500);

                    this.isLoading = false;
                    this.displayQuestion();
                    
                    this.choicesElement.addEventListener('click', (e) => {
                        const button = e.target.closest('button');
                        if (button && !this.isLoading) {
                            const choice = parseInt(button.dataset.choice);
                            this.checkAnswer(choice);
                        }
                    });
                }

                goToNextQuestion() {
                    this.currentQuestionIndex++;
                    if (this.currentQuestionIndex >= this.totalQuestions) {
                        this.showFinalScore();
                        return;
                    }

                    this.questionCounterElement.textContent = `Question ${this.currentQuestionIndex + 1}/${this.totalQuestions}`;
                    this.displayQuestion();
                }

                displayQuestion() {
                    const currentQuestion = this.questions[this.currentQuestionIndex];
                    if (currentQuestion) {
                        this.questionElement.textContent = currentQuestion.question_text;
                        this.choicesElement.innerHTML = '';
                        
                        // Fonction pour générer une couleur aléatoire en HSL
                        const generateColor = (usedHues) => {
                            let hue;
                            do {
                                hue = Math.floor(Math.random() * 360);
                            } while (
                                (hue >= 90 && hue <= 150) || // Vert
                                (hue >= 340 || hue <= 20) || // Rouge
                                (hue >= 270 && hue <= 310) || // Violet
                                usedHues.some(h => Math.abs(h - hue) < 45) // Assurer un contraste minimum
                            );
                            
                            const saturation = 65 + Math.random() * 15;
                            const lightness = 45 + Math.random() * 10;
                            
                            return {
                                main: `hsl(${hue}, ${saturation}%, ${lightness}%)`,
                                dark: `hsl(${hue}, ${saturation}%, ${lightness - 15}%)`,
                                hue
                            };
                        };
                        
                        const usedHues = [];
                        const colors = Array.from({length: 4}, () => {
                            const color = generateColor(usedHues);
                            usedHues.push(color.hue);
                            return [color.main, color.dark];
                        });
                        
                        currentQuestion.choices.forEach((choice, index) => {
                            const button = document.createElement('button');
                            button.className = 'choice rounded-lg flex items-center justify-center text-xl';
                            button.style.background = `linear-gradient(135deg, ${colors[index][0]} 0%, ${colors[index][1]} 100%)`;
                            button.innerHTML = `
                                <div>
                                    <div class="text-xl mb-2">${choice}</div>
                                </div>
                            `;
                            button.dataset.choice = String(index + 1);
                            this.choicesElement.appendChild(button);
                        });

                        this.startTimer();
                    }
                }

                restartQuiz() {
                    this.currentQuestionIndex = 0;
                    this.score = 0;
                    this.scoreElement.textContent = '0 points';
                    this.questions = this.shuffleArray([...QUESTIONS_DATA.questions]);
                    this.questionCounterElement.textContent = `Question 1/${this.totalQuestions}`;
                    document.querySelector('.timer-container').style.display = 'block';
                    this.displayQuestion();
                    this.updateProgress();
                }

                checkAnswer(choice) {
                    const currentQuestion = this.questions[this.currentQuestionIndex];
                    const choiceIndex = parseInt(choice) - 1;
                    const correctIndex = currentQuestion.correct_answer;
                    const isCorrect = choiceIndex === correctIndex;
                    
                    this.stopTimer();
                    const timerBar = document.getElementById('timer-bar');
                    timerBar.style.animationPlayState = 'paused';
                    
                    const buttons = this.choicesElement.querySelectorAll('.choice');
                    buttons.forEach(button => {
                        button.disabled = true;
                        const buttonIndex = parseInt(button.dataset.choice) - 1;
                        
                        button.classList.remove('correct', 'wrong');
                        
                        if (isCorrect) {
                            if (buttonIndex === choiceIndex) {
                                button.classList.add('correct');
                                button.style.opacity = '1';
                            } else {
                                button.style.opacity = '0.5';
                                button.style.border = '2px dotted white';
                                button.style.backgroundColor = 'transparent';
                                button.style.background = 'transparent';
                            }
                        } else {
                            if (buttonIndex === choiceIndex) {
                                button.classList.add('wrong');
                                button.style.opacity = '1';
                            } else if (buttonIndex === correctIndex) {
                                button.classList.add('correct');
                                button.style.opacity = '1';
                            } else {
                                button.style.opacity = '0.5';
                                button.style.border = '2px dotted white';
                                button.style.backgroundColor = 'transparent';
                                button.style.background = 'transparent';
                            }
                        }
                    });
                    
                    if (isCorrect) {
                        let points;
                        if (this.timeLeft >= 10) {
                            points = QUIZ_CONFIG.POINTS.FAST;
                        } else if (this.timeLeft >= 5) {
                            points = QUIZ_CONFIG.POINTS.MEDIUM;
                        } else {
                            points = QUIZ_CONFIG.POINTS.SLOW;
                        }
                        
                        const pointsFeedback = document.createElement('div');
                        pointsFeedback.className = 'points-feedback';
                        pointsFeedback.textContent = `+${points}`;
                        document.body.appendChild(pointsFeedback);
                        
                        setTimeout(() => {
                            pointsFeedback.remove();
                        }, 1000);
                        
                        this.score += points;
                        this.scoreElement.textContent = `${this.score} points`;
                        this.updateProgress();
                    }
                    
                    setTimeout(() => {
                        this.goToNextQuestion();
                    }, 2000);
                }

                showFinalScore() {
                    this.questionElement.textContent = `Quiz terminé! Score final: ${this.score} points 👍`;
                    this.choicesElement.innerHTML = '';
                    // Cacher les éléments de jeu
                    document.querySelector('.timer-container').style.display = 'none';
                }

                startTimer() {
                    const timerBar = document.getElementById('timer-bar');
                    timerBar.style.animation = 'none';
                    timerBar.offsetHeight; // Force reflow
                    timerBar.style.animation = `countdown ${QUIZ_CONFIG.QUESTION_TIME}s linear forwards`;

                    this.timeLeft = QUIZ_CONFIG.QUESTION_TIME;

                    if (this.timerId) {
                        clearInterval(this.timerId);
                    }

                    this.timerId = setInterval(() => {
                        this.timeLeft--;
                        if (this.timeLeft <= 0) {
                            this.stopTimer();
                            this.goToNextQuestion();
                        }
                    }, 1000);
                }

                stopTimer() {
                    clearInterval(this.timerId);
                }

                updateTimerDisplay() {
                    this.timerElement.textContent = `${this.timeLeft}s`;
                    const progress = (this.timeLeft / QUIZ_CONFIG.QUESTION_TIME) * 100;
                    this.progressBar.style.width = `${progress}%`;
                }

                handleError(error) {
                    console.error('Erreur détaillée:', error);
                    this.questionElement.textContent = 'Erreur lors du chargement du quiz. Veuillez rafraîchir la page.';
                    this.choicesElement.innerHTML = `
                    <div class="text-center text-red-500">
                        <p>Message d'erreur: ${error.message}</p>
                        <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded">
                            Réessayer
                        </button>
                    </div>
                `;
                }

                updateProgress() {
                    const maxScore = this.totalQuestions * QUIZ_CONFIG.POINTS.FAST;
                    const percentage = (this.score / maxScore) * 100;
                    const progressPercentage = (this.currentQuestionIndex / this.totalQuestions) * 100;

                    this.progressBar.style.width = `${progressPercentage}%`;

                    // Nouvelle logique de couleur
                    let position;
                    if (percentage >= 70) {
                        position = '100%'; // Vert
                    } else if (percentage >= 35) {
                        position = '50%'; // Bleu
                    } else {
                        position = '0%'; // Blanc
                    }

                    this.progressBar.style.backgroundPosition = `${position} 0`;
                }

                updateScore(points) {
                    this.score += points;
                    this.scoreDisplay.textContent = this.score;
                    this.updateProgress();
                }
            }

            // Initialisation du quiz
            document.addEventListener('DOMContentLoaded', () => {
                new Quiz();

                const sourceBtn = document.getElementById('source-btn');
                const sourceDialog = document.getElementById('source-dialog');
                const closeDialog = document.getElementById('close-dialog');
                const sourceContent = document.getElementById('source-content');

                // Initialiser markdown-it
                const md = new markdownit();

                // Contenu en markdown
                const sourceText = `
**en quelle année le régime seigneurial a-t-il été implanté dans la colonie ?**  
- en 1627

**quelle fonction sociale les augustines assumaient-elles dans la colonie ?**  
- les hôpitaux (soins, santé)

**en quelle année la ville de trois-rivières a-t-elle été fondée ?**  
- en 1634

**qui suis-je ? je suis la compagnie de marchands à qui la compagnie des cent-associés a cédé l'administration de la colonie et le monopole de la traite des fourrures en 1645.**  
- la communauté des habitants

**à quel intendant doit-on l’implantation du réseau commercial qui impliquait la colonie, la france et les antilles françaises ?**  
- jean talon

**que suis-je ? je suis un impôt prélevé par l'église catholique.**  
- la dîme

**qui suis-je ? durant la deuxième partie du régime français, je suis le personnage à qui le roi a confié le mandat de coloniser, d'administrer et de développer la colonie.**  
- jean talon

**dans la première partie du régime français, qui était responsable de l'administration, du développement et du peuplement de la colonie ?**  
- les compagnies

**quel événement marque le début du régime français ?**  
- la fondation de québec (1608)

**dans le cadre du commerce des fourrures, quel acteur était responsable de chasser les animaux et de préparer les peaux ?**  
- les autochtones

**quel était le nom donné à l'établissement de montréal au moment de sa fondation en 1642 ?**  
- ville-marie

**quelle était la proposition faite aux soldats envoyés par la france en 1665 pour les convaincre de rester dans la colonie à la fin de leur mission ?**  
- le roi offre des terres aux soldats qui demeurent en nouvelle-france.  
  les officiers de rang supérieur se voient offrir des seigneuries.

**en quelle année les guerres iroquoises ont-elles commencé ?**  
- 1609

**quels sont les deux seuls moyens qui permettent de favoriser l'accroissement d'une population ?**  
- l'immigration et la natalité

**à l'époque du régime français, comment appelait-on les habitants nés dans la colonie ?**  
- les canadiens

**dans le cadre de la politique économique en vigueur durant le régime français, quelles étaient les deux fonctions de la colonie ?**  
- fournir les ressources naturelles et acheter les produits transformés

**qui suis-je ? même si je ne suis officiellement que le deuxième intendant de la colonie, j'ai tout de même été le premier à m'y rendre pour exercer mes fonctions.**  
- jean talon

**durant le régime français, quelle était l'origine de la majorité des esclaves de la colonie ?**  
- des autochtones (environ 2/3)

**en 1663, quel constat fait-on au sujet de l'état de l'économie de la colonie ?**  
- peu diversifiée

**en 1665, la france a envoyé des soldats d'élite dans la colonie pour mettre un frein à la menace iroquoise. combien de ces soldats ont décidé d'y demeurer à la fin de leur mission ?**  
- environ le tiers (environ 400 militaires)

**que signifie le nom « québec » en langue algonquine ?**  
- « l'étroitesse de la rivière » ou « là où le fleuve rétrécit »

**quelle fonction sociale les ursulines assumaient-elles dans la colonie ?**  
- les écoles (éducation)

**en quelle année la ville de québec a-t-elle été fondée ?**  
- le 3 juillet 1608

**selon l'étude statistique des caractéristiques de la population réalisée en 1665-1666, combien y avait-il d'hommes et de femmes dans la colonie ?**  
- environ 2034 hommes et environ 1181 femmes

**qui suis-je ? je suis une compagnie anglaise fondée à londres, en 1670, à la suite des voyages d'exploration effectués par médard chouart des groseilliers et pierre-esprit radisson.**  
- la compagnie de la baie d'hudson

**qui suis-je ? je suis une importante compagnie de commerce qui a été fondée en 1627.**  
- la compagnie des cent-associés

**en 1665-1666, selon l'étude statistique des caractéristiques de la population, à combien s'élevait la population de la colonie ?**  
- 3215

**à l'époque du régime français, quel était le principal produit exporté par la colonie ?**  
- les fourrures

**pour quelle raison la prise de québec par les frères kirke a-t-elle été déclarée illégale ?**  
- parce qu'elle est survenue après la signature d'un traité de paix entre la france et l'angleterre, la rendant ainsi illégale

**qui suis-je ? je suis la nation autochtone qui a été lourdement affectée par les guerres iroquoises, surtout de 1648 à 1650.**  
- les hurons

**à partir des années 1650, comment appelait-on ceux qui allaient récupérer les peaux chez les autochtones et qui les rapportaient ensuite aux marchands-traiteurs de la compagnie ?**  
- les coureurs des bois

**quelles sont les années qui délimitent la première partie du régime français ?**  
- 1608-1663 (période du gouvernement des compagnies)

**que suis-je ? je suis un mouvement de pensée qui prévoit la soumission de l'église catholique de france au roi de france plutôt qu'au pape.**  
- le gallicanisme

**qui suis-je ? je suis la communauté religieuse masculine qui est arrivée dans la colonie en 1625.**  
- les jésuites

**qui suis-je ? je suis celui dont la tâche consiste à transmettre les directives du roi aux dirigeants coloniaux.**  
- le secrétaire d'état à la marine

**durant le régime français, quel était l'objectif de l'église catholique à l'égard des autochtones ?**  
- les évangéliser

**parmi les trois programmes de colonisation implantés durant le régime français (compagnies, église et État), un seul a grandement contribué au peuplement de la colonie. lequel ?**  
- l'état

**à quelle partie du régime français doit-on associer la présence du conseil souverain ?**  
- à la deuxième partie (1663 à 1760)

**qui suis-je ? je suis l'intendant associé à l'implantation des forges du saint-maurice et à la mise en service de la première voie carrossable de la colonie.**  
- gilles hocquart

**qui suis-je ? je suis le fondateur de québec.**  
- samuel de champlain

**que suis-je ? je suis le réseau commercial créé en 1670 qui implique la colonie, la france et les antilles françaises.**  
- le commerce triangulaire

**qui suis-je ? je suis le personnage qui a pris possession de la louisiane au nom du roi de france.**  
- rené-robert cavelier de la salle

**quelles sont les deux premières causes qui permettent d'expliquer la diminution de la population autochtone durant le régime français ?**  
- les maladies et les guerres

**que suis-je ? je suis le terme utilisé pour désigner les membres d'une communauté religieuse qui ont pour mission de convertir des gens au christianisme.**  
- les missionnaires

**que suis-je ? je suis le régime politique dans lequel le chef de l'état détient un pouvoir total et absolu qui, selon une croyance religieuse, lui vient directement de dieu.**  
- l'absolutisme de droit divin

**que suis-je ? utilisé dans le cadre de la traite des fourrures, je suis un produit d'échange ayant fait l'objet de vives critiques de la part des autorités religieuses de la colonie.**  
- l'eau-de-vie (alcool)

**en 1665, la france a envoyé des soldats d'élite dans la colonie pour mettre un frein à la menace iroquoise. combien de soldats y ont été envoyés ?**  
- environ 1200

**qui suis-je ? j'ai été le premier évêque de la colonie durant le régime français.**  
- françois de montmorency-laval (mgr de laval)

**après le départ du premier intendant à avoir exercé ses fonctions dans la colonie, quel a été le principal facteur d'accroissement de la population ?**  
- la natalité élevée

**qui suis-je ? achevée en 1737, je suis la première route carrossable qui permettait de relier les villes de québec, trois-rivières et montréal.**  
- le chemin du roy

**qui suis-je ? je suis un village qui a été attaqué et brûlé par un groupe de 1500 guerriers iroquois le 5 août 1689.**  
- le village de lachine (près de ville-marie)

**qui sont les deux personnages à l'origine de la fondation de la société de notre-dame de montréal pour la conversion des sauvages de la nouvelle-france ?**  
- jérôme le royer de la dauversière et jean-jacques olier

**à quelle partie du régime français doit-on associer la présence de l'intendant ?**  
- à la deuxième partie (1663 à 1760)

**qui suis-je ? je suis un des membres influents du conseil souverain et je dirige l'église catholique dans la colonie.**  
- l'évêque

**que suis-je ? je suis la politique économique selon laquelle une métropole doit accumuler des métaux précieux, surtout de l'or, en exportant des produits manufacturés faits à partir des matières premières provenant de ses colonies.**  
- le mercantilisme

**que suis-je ? je suis le terme utilisé pour désigner un colon qui a reçu une terre à cultiver de la part d'un seigneur.**  
- un censitaire

**quelles sont les deux causes ayant contribué au développement d'un sentiment d'indépendance chez les canadiens durant le régime français ?**  
- l'éloignement de la métropole et le contact avec les autochtones

**comment appelait-on les autochtones convertis au catholicisme qui se sont établis sur les terres des seigneuries de la vallée du saint-laurent ?**  
- les domiciliés

**à quel intendant doit-on la mise en service de la première brasserie (endroit où est brassée la bière) dans la colonie ?**  
- jean talon

**qui suis-je ? je suis celui qu'on a surnommé le « roi-soleil » et j'ai régné pendant plus d'un demi-siècle en maître absolu sur le royaume de france et ses colonies.**  
- louis xiv

**que suis-je ? fondé en 1713, je suis un établissement situé à la pointe est de l'île royale (actuelle île du cap-breton) qui est devenu, en 1740, un des ports les plus fréquentés d'amérique du nord.**  
- louisbourg

**qui suis-je ? je suis l'homme politique français qui est à l'origine de la création de la compagnie des cent-associés.**  
- le cardinal de richelieu

**que suis-je ? durant la deuxième partie du régime français, dans la colonie, je suis l'institution qui applique les directives du roi et qui conseille les dirigeants coloniaux.**  
- le conseil souverain
`;

                sourceBtn.addEventListener('click', () => {
                    // Convertir le markdown en HTML et ajouter la classe pour le style
                    sourceContent.innerHTML = `<div class="markdown-content">${md.render(
                        sourceText
                    )}</div>`;
                    sourceDialog.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                });

                closeDialog.addEventListener('click', () => {
                    sourceDialog.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                });

                sourceDialog.addEventListener('click', (e) => {
                    if (e.target === sourceDialog) {
                        sourceDialog.classList.add('hidden');
                        document.body.style.overflow = 'auto';
                    }
                });
            });
        </script>
    </body>
</html>
